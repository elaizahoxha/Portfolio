/* ====== THEME ====== */
:root{
  --pastel-pink:#E0A3BB; --pastel-yellow:#C5CC82; --pastel-green:#97A13B;
  --pastel-blue:#D6E6E7; --pastel-peach:#F4DFE6; --pastel-purple:#AC859C;
  --ink:#251C2A; --paper:#FCF7F2; --campus-red:#E21C2D; --forest:#1E3A2E;
  --accent: var(--pastel-purple);
  --radius:18px; --shadow:0 6px 18px rgba(0,0,0,.08); --ease:cubic-bezier(.22,.61,.36,1);
}

*{box-sizing:border-box; margin:0; padding:0; scroll-behavior:smooth;}
body{font-family:'Outfit',system-ui; background:var(--paper); color:#333; line-height:1.6; scroll-padding-top:80px;}

/* ===== Progress bar ===== */
.scrollbar{position:fixed; top:0; left:0; width:100%; height:3px; z-index:1100; background:transparent;}
.scrollbar span{display:block; height:100%; width:0; background: linear-gradient(90deg, color-mix(in oklab, var(--accent) 92%, white), var(--accent)); transform-origin:left;}

/* ===== Film grain ===== */
.site-noise::before{
  content:""; position:fixed; inset:0; pointer-events:none; z-index:999; mix-blend-mode:multiply;
  background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="140" height="140"><filter id="n"><feTurbulence baseFrequency=".9" numOctaves="2" seed="2"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity=".04"/></svg>');
}

/* ===== Nav ===== */
.top-banner{position:fixed; top:0; width:100%; background:rgba(255,255,255,.95); border-bottom:1px solid #ddd; backdrop-filter:blur(8px); z-index:1000;}
.nav-content{display:flex; justify-content:space-between; align-items:center; max-width:1000px; margin:auto; padding:10px 20px;}
.logo{font-weight:600;}
nav ul{display:flex; gap:20px; list-style:none;}
nav a{position:relative; text-decoration:none; color:#333; font-weight:600; transition:color .3s;}
nav a:hover{color:var(--pastel-purple);} 
nav a::after{content:""; position:absolute; left:0; bottom:-2px; width:100%; height:2px; background:var(--pastel-purple); transform:scaleX(0); transform-origin:left; transition:transform .3s;}
nav a:hover::after{transform:scaleX(1);} 

/* ===== Hero ===== */
.hero{position:relative; overflow:hidden; height:100vh; background:linear-gradient(135deg,var(--pastel-blue),var(--pastel-pink)); color:#fff; display:flex; flex-direction:column; justify-content:center; align-items:center; text-align:center; padding:0 20px;}
.particles{position:absolute; inset:0; z-index:0;}
.hero>*:not(.particles){position:relative; z-index:1;}
.typewriter{overflow:hidden; border-right:3px solid var(--pastel-yellow); white-space:nowrap; font-size:2.5rem; min-height:4rem; display:inline-block; animation:blink .7s step-end infinite;}
@keyframes blink{50%{border-color:transparent;}}
.btn{background:transparent; color:var(--pastel-purple); border:none; padding:.75rem 1.5rem; cursor:pointer; border-radius:3rem; transition:background .3s,color .3s,transform .3s,box-shadow .3s;}
.btn:hover{transform:scale(1.05); box-shadow:0 6px 15px rgba(0,0,0,.1);} 
.btn:active{background:var(--pastel-purple); color:#fff;}

/* ===== Sections ===== */
section{padding:80px 20px; max-width:1000px; margin:auto; opacity:0; transform:translateY(50px); transition:opacity .6s ease-out, transform .6s ease-out;}
section.visible{opacity:1; transform:translateY(0);}

/* ===== Headlines ===== */
.k-headline{font-family:"Bebas Neue",system-ui; letter-spacing:.015em; color:var(--ink); font-size:clamp(28px,6vw,86px); line-height:.95; margin-bottom:28px;}
.k-headline .k{display:inline-block; transform:translateY(.7em) scale(.92); opacity:0; transition:transform .6s var(--ease),opacity .6s var(--ease);} 
.k-headline.on .k{transform:translateY(0) scale(1); opacity:1;} 
.k-headline.on .k:nth-child(n){transition-delay:calc(var(--i,0)*9ms);} 

/* ===== About ===== */
.about-wrapper{display:flex; flex-wrap:wrap; gap:20px; align-items:center;}
.about-img {
  width: 280px;          /* same visual width as before */
  height: 280px;         /* fixed height so it doesn't stretch */
  object-fit: cover;     /* crops instead of squishing */
  object-position: center; /* centers the crop */
  border-radius: 50%;  
  overflow: hidden;
}

.about-text{max-width:600px; background:var(--pastel-yellow); padding:40px; border-radius:10px;}
.sticker{background:#fff; border:2px solid #fff; box-shadow:0 12px 24px rgba(0,0,0,.12); border-radius:16px;}
.floaty{animation:floaty 6s var(--ease) infinite;} 
@keyframes floaty{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}
[data-parallax]{will-change:transform;}

/* ===== Services ===== */
.services{text-align:center;}
.services h2{color:var(--pastel-purple); margin-bottom:40px;}
.services__wrapper{display:flex; flex-wrap:wrap; gap:40px; align-items:flex-start; justify-content:center; margin-bottom:24px;}
.services__cards{position:relative; flex:1 1 300px; height:360px;}
.services__info{flex:1 1 250px; text-align:left; max-width:60ch;}
.services__info h3{font-size:1.5rem; margin-bottom:.75rem; color:#222;}
.services__info p{margin-bottom:1.25rem; line-height:1.7; color:#222;}
.card{position:absolute; top:0; left:50%; width:300px; height:100%; border-radius:16px; overflow:hidden; box-shadow:0 12px 24px rgba(0,0,0,.1); transform-origin:center; transition:transform .6s var(--ease), z-index 0s .6s; opacity:.95; transform:translateX(-50%) scale(.9) rotateX(var(--rx,0deg)) rotateY(var(--ry,0deg)); will-change:transform;}
.card::before{content:""; position:absolute; inset:0; background: radial-gradient(120% 60% at 50% 110%, rgba(0,0,0,.65), transparent 70%), linear-gradient(to top, rgba(0,0,0,.55), rgba(0,0,0,.15) 65%, rgba(0,0,0,0)); z-index:1;}
.card::after{content:""; position:absolute; inset:-1px; border-radius:16px; background:radial-gradient(250px 180px at var(--mx,50%) var(--my,40%), rgba(255,255,255,.28), transparent 60%); opacity:.25; transition:opacity .2s; z-index:2; pointer-events:none;}
.card:hover::after{opacity:.45;}
.card[data-idx="0"], .card[data-idx="1"], .card[data-idx="2"]{z-index:1;}
.services__cards:hover .card[data-idx="0"]{transform:translateX(calc(-50% - 100px)) scale(.8);} 
.services__cards:hover .card[data-idx="1"]{transform:translateX(-50%) scale(1); z-index:2;}
.services__cards:hover .card[data-idx="2"]{transform:translateX(calc(-50% + 100px)) scale(.8);} 
.card.active{transform:translateX(-50%) scale(1); z-index:10 !important; transition:transform .6s var(--ease), z-index 0s 0s;}
.card img{width:100%; height:100%; object-fit:cover;}
.card__content{position:absolute; inset:auto 0 0 0; padding:16px; color:#fff; z-index:3; text-shadow:0 2px 6px rgba(0,0,0,.55);} 

/* Pills with slider */
.services__nav{display:inline-flex; background:#eee; border-radius:9999px; overflow:hidden; position:relative; padding:6px;}
.services__nav button{border:none; background:transparent; padding:10px 20px; font-size:1rem; cursor:pointer; color:#666; position:relative; z-index:1;}
.services__nav .slider{position:absolute; top:6px; bottom:6px; left:6px; width:0; border-radius:9999px; background:#333; transition:transform .35s var(--ease), width .35s var(--ease); z-index:0;}
.services__nav button.active{color:#fff;}

/* ===== Skills marquee ===== */
.marquee{overflow:hidden; white-space:nowrap; mask-image:linear-gradient(90deg,transparent,#000 10%,#000 90%,transparent); border-top:1px dashed rgba(0,0,0,.08); border-bottom:1px dashed rgba(0,0,0,.08); padding:10px 0; margin-top:16px;}
.marquee .track{display:inline-block; animation:mar 16s linear infinite; font-weight:600;}
.marquee span{display:inline-block; margin:0 16px; padding:6px 12px; border-radius:999px; background:var(--pastel-peach);} 
@keyframes mar{from{transform:translateX(0)} to{transform:translateX(-50%)}}

/* ===== Projects ===== */
.projects{position:relative;}
.editorial{background:radial-gradient(ellipse at 10% 0%, rgba(226,28,45,.05), transparent 50%), radial-gradient(ellipse at 90% 100%, rgba(30,58,46,.06), transparent 50%);} 
.projects-nav{display:flex; gap:20px; justify-content:center; margin-bottom:40px;}
.projects-nav button{background:#eee; border:none; padding:10px 20px; border-radius:20px; cursor:pointer; font-weight:600;}
.projects-nav button.active{background:var(--pastel-purple); color:#fff;}
.project-tab{display:none;} 
.project-tab.active{display:block;}
.carousel{position:relative; max-width:400px; margin:0 auto 20px; overflow:hidden;}
.carousel img{display:none; width:100%; border-radius:8px;}
.carousel img.active{display:block;}
.carousel .prev,.carousel .next{position:absolute; top:50%; transform:translateY(-50%); background:rgba(255,255,255,.85); border:none; font-size:1.5rem; padding:0 10px; cursor:pointer;}
.carousel .prev{left:10px;} .carousel .next{right:10px;}
.project-info{text-align:center; margin-bottom:60px;}
.project-grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:40px; align-items:start; margin-bottom:60px;}
.project-item .carousel{transition:transform .25s ease, box-shadow .25s ease;} 
.project-item:hover .carousel{transform:translateY(-2px) rotate(.4deg); box-shadow:0 16px 28px rgba(0,0,0,.12);} 

/* ===== Process ===== */
.process{position:relative; background-image:url('https://www.toptal.com/designers/subtlepatterns/patterns/dot-grid.png'); background-size:80px 80px;}
.process-steps{display:flex; flex-wrap:wrap; gap:20px; justify-content:center;}
.process-steps .step-box{flex:1 1 200px; max-width:250px; padding:20px; border-radius:12px; text-align:center; font-weight:600; transition:transform .3s, box-shadow .3s; opacity:0; transform:translateY(20px); transition:opacity .6s ease-out, transform .6s ease-out;}
.process-steps .step-box.visible{opacity:1; transform:translateY(0);} 
.process-steps .step-box .details{margin-top:8px; font-weight:400; color:#333;}
.process-steps .step-box:hover{transform:translateY(-5px); box-shadow:0 8px 20px rgba(0,0,0,.1);} 
.step-box:nth-child(1){background:var(--pastel-pink);} .step-box:nth-child(2){background:var(--pastel-yellow);} 
.step-box:nth-child(3){background:var(--pastel-green);} .step-box:nth-child(4){background:var(--pastel-blue);} .step-box:nth-child(5){background:var(--pastel-peach);} 

/* ===== art-meets-interface (keep) ===== */
.ami { background:#faf7f8; padding: 6rem 0; border-top: 1px solid rgba(0,0,0,.06); }
.ami .wrapper{max-width:1100px;margin:0 auto;padding:0 1.25rem;}
.ami-hero h2{font-family: var(--display, "Outfit", system-ui); font-size: clamp(2rem, 3.5vw, 3rem); letter-spacing:.5px;}
.ami-hero .subtitle{font-weight:600; opacity:.9; margin-top:.25rem;}
.ami-hero .tagline{margin-top:.5rem; color: #555;}
.ami-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.25rem;margin-top:2rem;}
.ami-card{background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:16px;padding:1.25rem;box-shadow:0 8px 24px rgba(0,0,0,.06);} 
.ami-card h3{margin:0 0 .5rem 0; font-size:1.1rem}
.ami-card p{color:#444;margin:0 0 .75rem 0;}
.ami-demo{border:1px dashed rgba(0,0,0,.15);border-radius:14px;padding:1rem;display:flex;flex-direction:column;gap:.75rem}
.ami-demo label{display:flex;justify-content:space-between;align-items:center;font-size:.9rem;gap:.75rem}
.ami-demo input[type="range"]{width:65%}
.ami-btn{background: #243a2e;color:white;border:none;padding:.6rem .9rem;border-radius:999px;cursor:pointer} 
.ami-btn:active{transform:translateY(1px)}
.ami-chip{border:1px solid rgba(0,0,0,.12);background:#fff;border-radius:999px;padding:.35rem .7rem;cursor:pointer;font-size:.85rem}
.ami-chip.is-active{background:#243a2e;color:#fff;border-color:#243a2e}
.ami-copy-output{padding:1rem;border-radius:12px;background:linear-gradient(180deg,#fff, #f8f8f8);border:1px solid rgba(0,0,0,.08);min-height:48px;display:flex;align-items:center}
.ami-bloom{height:120px;border-radius:12px;background:radial-gradient(100px 60px at 20% 40%, rgba(226,140,160,.35), transparent 60%), radial-gradient(120px 80px at 70% 60%, rgba(141,180,160,.35), transparent 60%);border:1px solid rgba(0,0,0,.04)}
.ami-demo--ikebana{gap:1rem}
.ami-stage{height:180px;border-radius:12px;background:#fff;border:1px solid rgba(0,0,0,.08);position:relative;overflow:hidden}
.ami-stage .piece{position:absolute;transition:transform .4s ease, opacity .3s ease}
.ami-stage .petal{width:46px;height:30px;border-radius:50% 50% 48% 52%/55% 45% 55% 45%;background:linear-gradient(180deg, rgba(227,181,197,.85), rgba(251,244,246,.9));box-shadow:0 6px 18px rgba(0,0,0,.08)}
.ami-stage .stem{width:6px;height:90px;border-radius:3px;background:linear-gradient(180deg, #3b5b4a, #243a2e)}
.ami-stage-tools{display:flex;gap:.5rem}
.ami-notes{margin-top:2rem}
.ami-notes h4{margin:0 0 .5rem 0; font-size:1rem}
.ami-notes ul{margin:0;padding-left:1.2rem;color:#333}

/* ===== Contact & Footer ===== */
.contact{text-align:center; padding:40px 20px; background:var(--pastel-peach);} 
.contact-link{color:#333; font-weight:600; text-decoration:none; position:relative; transition:color .3s, transform .2s;}
.contact-link::after{content:""; position:absolute; left:0; bottom:-2px; width:100%; height:2px; background:var(--pastel-purple); transform:scaleX(0); transform-origin:left; transition:transform .3s;}
.contact-link:hover{color:var(--pastel-purple); transform:scale(1.05);} 
.contact-link:hover::after{transform:scaleX(1);} 
.footer-clean{background:var(--pastel-purple); padding:40px 20px; color:#fff; width:100%;}
.footer-row{display:flex; flex-wrap:wrap; justify-content:space-between; align-items:center; max-width:1000px; margin:auto;}
.footer-links{display:flex; gap:20px; list-style:none;}
.footer-links a{color:#fff; text-decoration:none; transition:opacity .3s;}
.footer-links a:hover{opacity:.7;}

/* ===== Back to top ===== */
.to-top{position:fixed; right:18px; bottom:18px; width:44px; height:44px; border-radius:50%; border:none; background:#1f1f1f; color:#fff; box-shadow:0 10px 20px rgba(0,0,0,.18); cursor:pointer; opacity:0; transform:translateY(12px); transition:opacity .25s, transform .25s; z-index:1002;}
.to-top.show{opacity:1; transform:translateY(0);} 

/* ===== Page transition overlay ===== */
#transition{position:fixed; inset:0; background:#111; pointer-events:none; transform:translateY(100%); transition:transform .28s ease-in-out; z-index:1200;}
.page-exit #transition{ transform:translateY(0); }

/* ===== Responsive & Reduced motion ===== */
@media (max-width:768px){
  .about-wrapper{flex-direction:column;}
  nav ul{flex-wrap:wrap; justify-content:center; gap:10px;}
  .services__wrapper{flex-direction:column; align-items:center;}
  .services__info{text-align:center; max-width:65ch;}
}
@media (prefers-reduced-motion: reduce){
  *, *::before, *::after{animation:none !important; transition:none !important;}
}
